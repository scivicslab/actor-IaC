name: SystemInfoWorkflow

steps:
  # Step 1: Get CPU information and report
  - states: ["0", "1"]
    actions:
      - actor: this
        method: executeAndReport
        arguments:
          command: "lscpu | grep 'Model name' | cut -d: -f2 | xargs"
          type: cpu

  # Step 2: Get GPU information and report
  - states: ["1", "2"]
    actions:
      - actor: this
        method: executeAndReport
        arguments:
          command: "nvidia-smi --query-gpu=name --format=csv,noheader 2>/dev/null || echo 'No NVIDIA GPU'"
          type: gpu

  # Step 3: Get Memory information and report
  - states: ["2", "end"]
    actions:
      - actor: this
        method: executeAndReport
        arguments:
          command: "free -h | awk '/Mem:/{print $2}'"
          type: memory
